{
  "stackName": "full-stack-etl",
  "clusterPrefix": "merlin-rp",
  "hostMachineDnsServer": "192.168.104.100",
  "workerHostCount": 1,
  "dockerMachineWorkerOptions": {
    "engineLabel": "role=worker"
  },
  "dockerMachineMasterOptions": {
    "engineLabel": "role=master"
  },
  "dockerMachineDriverOptions": {
    "engineInsecureRegistry": "docker-registry.parrot-rp.keyw:5000",
    "vmwarevsphereBoot2dockerUrl": "https://s3.amazonaws.com/merlin-jreeme/boot2docker.iso",
    "driver": "vmwarevsphere",
    "vmwarevsphereUsername": "root",
    "vmwarevspherePassword": "run2walk!",
    "vmwarevsphereDatastore": "datastore1",
    "vmwarevsphereCpuCount": 2,
    "vmwarevsphereDiskSize": 40000,
    "vmwarevsphereMemorySize": 16384,
    "vmwarevsphereVcenter": "vmware.parrot-rp.keyw"
  },
  "dockerComposeYaml": {
    "version": "3.6",
    "networks": {
      "external": {
        "name": "full-stack-merlin_net"
      }
    },
    "configs": {
      "nginx-es-config": {
        "file": "../../config/nginx-elasticsearch.conf"
      },
      "nginx-es-head-config": {
        "file": "../../config/nginx-elasticsearch-head.conf"
      },
      "nginx-pgadmin4-config": {
        "file": "../../config/nginx-pgadmin4.conf"
      },
      "nginx-amino3-config": {
        "file": "../../config/nginx-amino3.conf"
      },
      "nginx-namenode-config": {
        "file": "../../config/nginx-namenode.conf"
      },
      "nginx-hdfs-config": {
        "file": "../../config/nginx-hdfs.conf"
      },
      "traefik-config": {
        "file": "../../config/traefik.toml"
      }
    },
    "volumes": {
      "dns-bind-conf-volume": null,
      "dns-bind-data-volume": null,
      "hadoop-datavolume": {
        "driver": "local",
        "driver_opts": {
          "type": "nfs",
          "device": ":/nfs-public/hadoop-datavolume",
          "o": "rw,addr=nfs.parrot-rp.keyw,proto=tcp,async,soft,nolock"
        }
      },
      "hadoop-logvolume": {
        "driver": "local",
        "driver_opts": {
          "type": "nfs",
          "device": ":/nfs-public/hadoop-logvolume",
          "o": "rw,addr=nfs.parrot-rp.keyw,proto=tcp,async,soft,nolock"
        }
      },
      "pg-datavolume": {
        "driver": "local",
        "driver_opts": {
          "type": "nfs",
          "device": ":/nfs-public/postgres",
          "o": "rw,addr=nfs.parrot-rp.keyw,proto=tcp,async,soft,nolock"
        }
      },
      "elasticsearch-datavolume0": {
        "driver": "local",
        "driver_opts": {
          "type": "nfs",
          "device": ":/nfs-public/elasticsearch0",
          "o": "rw,addr=nfs.parrot-rp.keyw,proto=tcp,async,soft,nolock"
        }
      },
      "elasticsearch-datavolume1": {
        "driver": "local",
        "driver_opts": {
          "type": "nfs",
          "device": ":/nfs-public/elasticsearch1",
          "o": "rw,addr=nfs.parrot-rp.keyw,proto=tcp,async,soft,nolock"
        }
      },
      "elasticsearch-datavolume2": {
        "driver": "local",
        "driver_opts": {
          "type": "nfs",
          "device": ":/nfs-public/elasticsearch2",
          "o": "rw,addr=nfs.parrot-rp.keyw,proto=tcp,async,soft,nolock"
        }
      }
    },
    "services": {
      "nginx": {
        "image": "docker-registry.parrot-rp.keyw:5000/nginx:0.07.13",
        "configs": [
          {
            "source": "nginx-amino3-config",
            "target": "/etc/nginx/conf.d/nginx-amino3.conf"
          },
          {
            "source": "nginx-es-head-config",
            "target": "/etc/nginx/conf.d/nginx-elasticsearch-head.conf"
          },
          {
            "source": "nginx-es-config",
            "target": "/etc/nginx/conf.d/nginx-elasticsearch.conf"
          },
          {
            "source": "nginx-pgadmin4-config",
            "target": "/etc/nginx/conf.d/nginx-pgadmin4.conf"
          }
        ],
        "deploy": {
          "replicas": 1,
          "restart_policy": {
            "condition": "on-failure"
          },
          "placement": {
            "constraints": [
              "node.role == manager"
            ]
          }
        },
        "ports": [
          "9200:9200",
          "9100:9100",
          "3000:3000",
          "8088:8088",
          "50070:50070",
          "5050:5050"
        ]
      }
    }
  }
}

